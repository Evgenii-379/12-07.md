# 12-07.md


# **Домашнее задание к занятию "Репликация и масштабирование. Часть 2"**-***Вуколов Евгений***


## **Задание 1**

Опишите основные преимущества использования масштабирования методами:

-  активный master-сервер и пассивный репликационный slave-сервер;
-  master-сервер и несколько slave-серверов;
-  активный сервер со специальным механизмом репликации — distributed replicated block device (DRBD);
-  SAN-кластер.

Дайте ответ в свободной форме.

## **Решение 1**

 master-slave

 В этом подходе выделяется один основной сервер базы данных, который называется мастером.
- На master происходят все изменения в данных (любые запросы MySQL INSERT/UPDATE/DELETE)
- Эффективно распределяет рабочую нагрузку между узлами
- Оптимизирует производительность запросов
- Повышает надёжность данных и сводит к минимуму время простоя системы
- Используется для устранения узких мест в производительности, возникающих из-за одной точки сбоя

 master и несколько slave

- Эффективно распределяет рабочую нагрузку между узлами
- Данные можно копировать по разным дата-центрам
- Репликация упрощает архивацию
- Наличие слэйвов позволяет уменьшить риск отказов системы
- Если выходит из строя master, slave может переключиться на его обязаности и стать мастером

 distributed replicated block device (DRBD)

- Может применяться для организации отказоустойчивых систем хранения данных и отказоустойчивых кластерных систем
- DRBD занимается полным отражением по сети всех операций с блочным устройством
- Реализован на уровне ядра Linux как модуль
- Может копировать, дублировать данные с локального хранилища на удалённое без особых настроек

SAN-кластер

- Возможность разделения нагрузки между несколькими серверами, что кардинально улучшает производительность системы 
- Высокая отказоустойчивость
- Масштабируемость. При необходимости сеть можно увеличивать в соответствии с конкретными требованиями организации
- Расширенные возможности управления.SAN поддерживает ряд полезных функций хранилища корпоративного класса, включая шифрование данных, дедупликацию данных, репликацию хранилища
  и технологии самовосстановления, предназначенные для максимального увеличения емкости хранилища, безопасности и устойчивости данных

 

## **Задание 2**

Разработайте план для выполнения горизонтального и вертикального шардинга базы данных. База данных состоит из трёх таблиц:

-  пользователи,
-  книги,
-  магазины (столбцы произвольно).

Опишите принципы построения системы и их разграничение или разбивку между базами данных.

Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.


## **Решение 2**

Таблицы и содержащиеся в них данные:

 Users 
--------
- id
- username
- first_name
- last_name
- password


 Books
--------
- id
- title
- author
- genre


 Store
---------
- id
- manager_staff
- address
- title


- ![scrinshot](https://github.com/Evgenii-379/12-07.md/blob/main/Снимок%20экрана%202024-06-06%20194036.png)
База данных состоящая их таблиц users, books, stores разделенна на три сервера и каждая таблица вертикально шардированна на другие сервера

- ![scrinshot](https://github.com/Evgenii-379/12-07.md/blob/main/Снимок%20экрана%202024-06-06%20211039.png)
Здесь база данных также состоящая из таблиц users, books, stores разделенна на три сервера и горизонтально шардированна 

- ![scrinshot](https://github.com/Evgenii-379/12-07.md/blob/main/Снимок%20экрана%202024-06-07%20001244.png)

В этой схеме один общий сервер содержит все таблицы, таблицы расположены на серверах по определённым признакам: магазины будут разбиты по городу, пользователи по возрасту, книги по жанру.
Таблицы читают данные из других таблиц находящихся на других серверах.

